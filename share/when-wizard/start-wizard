# script: share/when-wizard/start-wizard
# -*- coding: utf-8 -*-
#
# When Wizard
#
# Copyright (c) 2015-2016 Francesco Garosi
# Released under the BSD License (see LICENSE file)
#
# Main application script: prepare all paths and start application
# Usage: when-wizard start-wizard

import os
import sys
import time

import argparse
import configparser
import locale

from gi.repository import GLib, Gio
from gi.repository import GObject
from gi.repository import Gtk
from gi.repository import Pango

from utility import verify_user_folders, datastore


# setup i18n for both applet text and dialogs
locale.setlocale(locale.LC_ALL, locale.getlocale())
locale.bindtextdomain(APP_NAME, APP_LOCALE_FOLDER)
locale.textdomain(APP_NAME)
_ = locale.gettext


def gui_main():
    from wizard import WizardApplication
    app = WizardApplication()
    return app.run()


# take care of parsing possible arguments (if any) and run the GUI application
def main():
    # TODO: parse args and initialize applet
    verify_user_folders()
    if os.path.exists(datastore.filename):
        datastore.load()
    else:
        datastore.save()
    r = gui_main()
    return r


# end.
