# script: share/when-wizard/plugin-package
# -*- coding: utf-8 -*-
#
# When Wizard
#
# Copyright (c) 2015-2016 Francesco Garosi
# Released under the BSD License (see LICENSE file)
#
# Package creator: create a .wwpz package of a plugin for installation
# Usage: when-wizard plugin-package staging_directory


import os
import sys
from plugin import package_plugins


def main():
    me = os.path.basename(__file__)
    if len(sys.argv) == 2:
        base_dir = sys.argv[1]
    elif len(sys.argv) == 1:
        base_dir = '.'
    else:
        return 1
    num_plugins = package_plugins(base_dir)
    if num_plugins == 0:
        return 2
    else:
        return 0


# end.
